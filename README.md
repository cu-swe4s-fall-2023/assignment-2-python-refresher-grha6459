[![Review Assignment Due Date](https://classroom.github.com/assets/deadline-readme-button-24ddc0f5d75046c5622901739e7c5dd533143b0c8e959d652212380cedb1ea36.svg)](https://classroom.github.com/a/oQi7O4AA)
# Printing Fires with Blazing Efficiency and Undeniable Panache
## Overview
print_fires.py takes a filename, a query column number, a query value, and a result column number. column numbers are natural numbers, *not* indices. The intended use employs a country name as the query value. Using the function get_column defined in my_utils.py, it opens the file given by the file name, and filters the values in the results column to only those whose corresponding value is the query column matches the query value. Note that the file must be formatted as a csv, included in the current directory. These values are truncated to integers if possible, but if non-numeric values are found, the returned/printed list will include Nan (type float) values.
If the --operation parameter is included, print_fires will instead return the mean, median or standard deviation of the values.
## Example Usage
The parameters are named and given via the command line. See test_my_utils.py for example function runs.
```
python print_fires.py --country 'United States of America' --country_column 1 --fires_column 4 --file_name 'Agrofood_co2_emission.csv'
```
This prints the integer number of fires in the specified country, each year. 
If the file is unable to be opened, or an empty array is read from it, error codes are set to 1 and an error message may be displayed.
If non-numeric values are in the queried column, the statistical functions will return None.

Unit and functional testing have also been added in the testing directory. The test_my_utils.py file creates a class to test the statistical capabilities.
Finally, functional testing using the Stupid Simple Bash Testing framework (see here for more detail: https://github.com/ryanlayer/ssshtest). A test csv file has been added to this directory in the test_data subdirectory. 

Automated testing has been added to the github. The file test.yml specifies tests to be run, including running test_my_utils.py, test_print_fires.sh, and a check of PEP8 compliance. test.yml uses an environment, named swe4s. This environment is specified in the file environment.yml, which resides in the main directory. 

# Drawing Conclusions for Version 5.0
## Introduction:
An additional workflow has been added to analyze some aspects of the agrofood dataset. In the United States we are concerned with reducing out total emissions, and the country of Uruguay is often brought up as a positive example. Uruguay has a similar economy and level of development compared to the US, but overall much lower emissions. This presentation seeks to zero in on food production and the associated emissions. 

## Results:
First, we visualize the total agricultural emissions of each country, normalized to their population (figure 1, see the docs folder). We note that the US has higher emissions than Uruguay for all years visible, but Uruguay has a very striking upward trend in the last 20 years.

What could account for this? While it is almost certianly a function of many variables, we may begin to look at one factor with the data we have. As countries develop, they almost always produce greater emissions. To approximate the level of development in a country, we may use a very rough measure of urbanization: The share of the population that is urgban. In figure 2, we look at this quantity over time in both countries. This reveals that while there is an upward trend in urbanization for both, Uruguay has a greater fraction of its population living in cities. This is striking, and doesn't help to explain the sharp uptick in emissions.

To try to understand the trend with our limited data, we may try to approximate efficiency of the agricultiral economy in both countries. One possible way of going about this is to ratio the emissions from food transport to emissions from food consumption, with the assumption that consumption is relativly inelastic but transport may be reduced with careful planning of developments. The results of this are shown in figure 3. This reveals that Uruguay generates a greater fraction of their emissions from transport, possibly as a consequence of their greater urbanization. While city living is often considered more efficient, it comes at a high cost in terms of food transport associated emissions, and a full accounting of the resoruces that flow into cities may paint a different picture (Hall, 2016).

Of course, Uruguay, while quite urban, is still a developing country and is characterized by a very different lifestyle than the US. In contrast to the US, a much high proportioner of total emissions are generated by agriculture, so this analysis is a small part of a much larger picture (Ritchie et. al, 2020).

Sources:
Hall, J. W. D. (2016). The Myth of the Sustainable City. Scientific American. https://www.scientificamerican.com/article/the-myth-of-the-sustainable-city/
Ritchie, H., Roser, M., & Rosado, P. (2020). CO2 and Greenhouse Gas Emissions. Our World in Data. https://ourworldindata.org/co2/country/uruguay

## Methods:
First, get data using shell command 
```
wget -O Argrofood_co2_emission.csv 'https://docs.google.com/uc?export=download&id=1Wytf3ryf9EtOwaloms8HEzLG0yjtRqxr'
```
‌Then, run the following commands to run export_CO2.py:
```
python export_CO2.py --country 'United States of America' --file_name 'Argrofood_co2_emission.csv' --column_numbers 27 26 30 9 12
python export_CO2.py --country 'Uruguay' --file_name 'Argrofood_co2_emission.csv' --column_numbers 27 26 30 9 12
```
Note that above list of column numbers correspond to the following:
27-rural population 26-urban population 30-total emissions 9-food transport 12-food consumption

‌This should generate in the same directory two files called "United States of America_processed.csv" and "Uruguay_processed.csv".

Finially the command:
```
python process_and_plot.py
```
Generates the figures.